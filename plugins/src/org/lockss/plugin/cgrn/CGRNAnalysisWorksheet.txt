-------------------INSTRUCTIONS-------------------------------------
Make a local copy of this file for each new plugin.
Change its name to match the name of the plugin XML file, but with
the .txt suffix. As you do your site analysis for the new plugin,
follow along in this worksheet, filling in the answer to questions.
Cut and paste specific URLs to support your notes and to allow
subsequent readers to understand your analysis.

---------------------GENERAL INFORMATION----------------------------
Name of publisher: Common Ground Research Networks

Publishing platform: custom

RT:

RU:

JIRA: https://jirasul.stanford.edu/jira/browse/LXPUB-543

Plugin name suggestion:
* org.lockss.plugin.cgrn.CgrnJournalsPlugin
* org.lockss.plugin.commongrounds.CommonGroundsJournalsPlugin

Clockss? [yes/no]: ?
GLN? [yes/no]: yes
PLN? [and name thereof]: no

TDB information:
    PARAMS - global
    PARAMS - journal specific
    ATTRS:

* base_url: https://cgscholar.com/bookstore/works/  --- strange, but true
* journal_id: the-international-journal-of-community-diversity
* volume_name: 21

Start URL(s):  TBD

toc pages are like so:
* https://cgscholar.com/bookstore/works/the-international-journal-of-community-diversity-volume-21-issue-1

Is the permission page in a different location? If so, where? TBD

How does the permission statement work?

Pick 3 AUs that you are using for initial evaluation? Write down
their defined parameters.
Choose AUs across a variety of journals (if available) and years to
get a broad view of the publisher.
(eg. Journal ID = abc; Volume = 2003; base_url = http://www.baseau-
blah.org, etc)

a) The International Journal of Community Diversity
    BASE_URL = https://cgscholar.com/bookstore/works/
    JID = 209/210 -- 209 is a category id, 210 is the jid, both needed -- https://cgscholar.com/bookstore/cgrn/209/210/
    VOL = 21
    toc: https://cgscholar.com/bookstore/works/the-international-journal-of-community-diversity-volume-21-issue-1
b)
    BASE_URL = https://cgscholar.com/bookstore/works/
    JID = 283/283 -- https://cgscholar.com/bookstore/cgrn/282/283
    VOL = 7
    toc: https://cgscholar.com/bookstore/works/journal-of-sport-and-health-volume-7-issue-34 -- 34 is really 3&4...
c) The International Journal of Health, Wellness and Society
    BASE_URL = https://cgscholar.com/bookstore/works/
    JID = 225/226 -- https://cgscholar.com/bookstore/cgrn/225/226
    VOL = 11
    toc: https://cgscholar.com/bookstore/works/the-international-journal-of-health-wellness-and-society-volume-11-issue-1

Article files:
- abs:  https://cgscholar.com/bookstore/works/what-is-happening-to-me-83078f8e-c8f8-4a0a-a4fe-1d631650cdb3
        https://cgscholar.com/bookstore/works/american-exceptionalism-in-the-time-of-covid19
- preview pdf (abs 2): NA
- html full text: NA
- pdf: https://cgscholar.com/bookstore/works/serve_pdf?adv=false&category_id=179&version_id=231020
       https://cgscholar.com/bookstore/works/serve_pdf?adv=false&category_id=179&version_id=230495
       https://cgscholar.com//bookstore/works/public_print_source?v_id=231020
       REDIRECT TO
       https://d1311w59cs7lwz.cloudfront.net/attachment/328963/e546f98c13c87399b91fbd98aae2e060037f5072/D21-a_75973_Final.pdf?Expires=1641603460&Signature=bPfNoTxEPSYsUfGD54OQ4DxI8LVDetatiZ3nWSQ7RfVVV~hGHGHrTnFRbM-HgFmMfWj9cm4lIFzXeZsphiFGLUzUbVOs3NdwOkwRo7N9M2vAvARLq5EImEOODJvrgKUqImg8rglWWrO7Juw1~eBmADk9bKKeFo0JTD2woJRLuvMp-cbylDcRWaeBkpu2GLl945Xj2ey8yQt84CU-keoMelFsnhYbrBClI7Z2OT0b3FgNB5ZKLMuA2ZH2PjbmXEk03ZWdXOxytdOJVY2Cd-QCltCG78wL-Bc75c3uCJtDcOrpoFmE0NN-bnUXBYhi2RFz3UHnH7MMiqxaM6Ycta9efA__&Key-Pair-Id=APKAJELYXGUCCDL7FUQA

- tables only: NA
- figures only: NA
- supplement: NA
- citation manager: NA
- EndNote: NA
- ProCite Ris: NA
- Zotero Ris: NA
- MARC: NA
- RefWorks: NA

-----------------------URL & SITE LAYOUT SECTION--------------------
Refetch Depth: 2?

Crawl rules & Content Layout
Is there a predictable URL pattern specific to each type of
page/content?
TOC pages are predictable, although the jid is not there, instead a string of the title.
article landing/abstract pages are not predictable, crawl control will need to be in crawlfilters

Audio or Video?
* not found

Images, Figures & Tables
These items may exist in several formats, locations and with
multiple access options.  First locate an
article that includes images/figures/tables. If there is a full text
html option, start there. Find an
embedded image (figure, table) and note the following, giving URL
examples for each.

** Figures/images are stored at URLs like this:
no images or figures found

DOI pattern
If this publisher uses DOIs, they may follow a pattern. It can be
helpful to know what the
pattern is. Give 3 examples of DOIs for this publisher including
both parts (eg 101234/Blah_xxx124Is1)
predictable: <CGRN-ID>/<>/CGP/v<Vol>i<issue, or set of issues>/<Start Page>-<End Page>
10.18848/2327-0004/CGP/v21i01/11-34
10.18848/2381-7070/CGP/v07i3-4/15-28
10.18848/2156-8960/CGP/v11i01/71-83

Other? Any other content specific to an article that wasn't listed
above?? Give examples.

Addition Links to Include/Exclude
Now go back to both an issue table of contents page (or equivalent)
AND an article html page and look at
all the links on this page. This is easiest to do in firefox -->
Page Info [Links tab].
Scan all the links and note items that might need to be explicitly
included or excluded
(that wouldn't be under normal paths). If in doubt, just add an
example URL in here.

Links to consider excluding
  underneath <base_url>, but includes something general, such as
author info, citedby, servlet, searchId, etc
  javascript or style sheet links that seem to have a name that
might be automatically generated (includes
  date or hash string in the name, eg.
  * <base_url>+/bookstore/cgrn/305$ -- these are a bunch of categories, irrelevant to the volume/journal

Links to consider including
  not underneath <base_url>, but looks specific to article content,
such as images that live under a different base
  underneath <base_url> and contains thins like showSupplements,
showImage, downloadCitation)
  * files under these hosts:
  https://d3iy8fqq047pz3.cloudfront.net/

Does this site use automatically generated content??
View the page source for an article html page and look for something
in the <head> section that looks like:
   __viewstate.X29DKTUELDKDHFLDKDN...
   __eventstate.KDIEJTEJSDODIJGJEKE...
  These types of items are generated by ASP and will change with
each viewing of the page.  Please note the URL.
* __viewstate and __eventstate not found
https://cgscholar.com/assets/cg_bookstore/application-2697502d82a40f79e962ebaa6b500205787c2f36fd668d3b29101100cd91516f.css
https://cgscholar.com/assets/application-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css
https://cgscholar.com/assets/cg_gui/browser-version-87fc043454092bd010cc7a6e5eb540c540b773e4357d21f63810c36a668318ac.js

Notes
Anything else that you think the plugin writer needs to be aware of
in terms of URL layout.

--------------------------URL NORMALIZATION-------------------------
As you click around from article to article or issue TOC are you
getting arguments on the end of
your URLs that are likely unnecessary.  Arguments are those items
that follow a ? and may be
separated with &.  Arguments that are necessary to identify the page
usually look like this:
  ?showItem=<identifier>&format=pdf
whereas arguments that might be unnecessary might look like this
  ?rss=13&prev_item=333kfkfkfjk&lang=3n
These arguments might be keeping track of browsing history or date
or language. You can test whether the
arguments are needed by re-entering the URL without the arguments
and seeing if you get the same page.
Give examples of URLs with arguments that we might need to remove.
(eg. <full_url>?cookieSet=1 or <full_url>?prevSearch=3)

most of the article pages and toc pages have trailing arguments that can be removed
e.g.
https://cgscholar.com/bookstore/works/the-international-journal-of-early-childhood-learning-volume-28-issue-2?category_id=cgrn&path=cgrn%2F242%2F245
https://cgscholar.com/bookstore/works/the-international-journal-of-early-childhood-learning-volume-28-issue-2
https://cgscholar.com/bookstore/works/guanxis-role-in-the-international-early-childhood-education-business-model?category_id=cgrn
https://cgscholar.com/bookstore/works/guanxis-role-in-the-international-early-childhood-education-business-model

----------------------HTML HASH FILTERING---------------------------
Look at several types of html pages and look for types of items that
are time or viewer dependent.
These items will need to get hashed out. The plugin writer will need
to go in to the page source
to figure out how to remove the items, but you can identify which
elements likely need to be removed.
Here are suggestions for the type of things to look for. Make a note
of the type of items you find
and why you think they will need removal.  Give any URLs necessary
to find the items you mention.

 ------Look for these sorts of things. Remove this list and replace
it with what you find---------
  Name and/or logo of subscriber institution
  Login identity in shopping cart area
  Copyright on page showing year
  Cited by section
  Issue link which points to current issue
  Product price listing
  Footer section including adds or date
  Related content or related article search
  Impact factor or viewing count
  Session history

And if you view the page source (firefox -> Page Source) look for
the following:
<script/> tags with subscriber information, dates, or <!-- ... -->
comment pairs that includes creation or modification date
sfxlink javascript commands

Anything else you think might need to be removed from hashing??

* include nodes:

* exclude nodes:
        new TagNameFilter("script"),
        new TagNameFilter("noscript"),
        //filter out comments
        HtmlNodeFilters.comment(),

----------------------XML HASH FILTERING---------------------------

-------------------HTML CRAWL FILTERING-----------------------------
If the URL pattern for articles is non-deterministic (that is, it
doesn't contain volume name,  year, journal
id specific information) then there is no way to know which
journal/issue/volume an article is from.
 deterministic URL: <base_url>/content/vol24/iss1/art1.pdf
 non-deterministic URL: <base_url/content/doi/pdf/11134/myartdoi12
which makes it very possible to crawl to content not from the
original AU. If this is not the case,
write "not applicable" or if it is, look for likely places where
this could happen, such as those
listed below. If you find some, please provide the URL for the page
where you saw them.

* no need for crawl filter since the url is deterministic with journal id,
volume name and issue number:
https://dl.sciencesocieties.org/publications/aj/abstracts/106/1/57

 ------Look for these sorts of things. Remove this list and replace
it with what you find---------
  Cited By Section - a link or section of links which point to
  articles that reference this article
  Corrigendum or Article Correction links
  Related Content or Related Articles
  Original Article (pointing back from a corrected article to the
  original)
  Prev Issue/massNext Issue links
  Prev Article/Next Article links (sometimes these dead end at the
  ends of an issue, sometimes not)


// sidebar
HtmlNodeFilters.tagWithAttribute("div", "class", "sidebar"),
// masthead/topbar
HtmlNodeFilters.tagWithAttribute("div", "id", "masthead"),
// index of journals/categories
HtmlNodeFilters.tagWithAttribute("div", "class", "mod"),
HtmlNodeFilters.tagWithAttribute("div", "class", "collection"),
//footer
HtmlNodeFilters.tagWithAttribute("div", "id", "footer"),

-----------------------LINK EXTRACTOR-------------------------------
Link extractor might not needed from visual verification.  Tables and
figures expand within the article full text html.  But will verify again
once able to crawl when permission statements are in place.

* probably no need for link extractor. will determine once able to crawl.

-----------------------PDF FILTER-----------------------------------
Some PDF files change every time they're viewed and will require a
PDF filter. Download a PDF file of an article and view it. Does it contain an
obvious watermark with date downloaded or some other time/viewer specific
information? In Acrobat viewer look at the properties of the file. Is the date
today's date? If so it's likely to be generated on the fly. If so, note
the URL of the PDF you downloaded.

Now download the same PDF file a second time from a different
browser (to ensure you're not getting cached version)

In a terminal window go to the directory that contain these two
different versions of the same PDF file and run:
%diff -a pdf_version1.pdf pdf_version2.pdf
If there is a difference note that here and give the URL to the URL
you tested.

* Timestampe gets added to each page, vertically, on the right hand side
Downloaded on Fri Jan 07 2022 at 22:55:32 UTC

a simple pdf filter is necessary.

-----------------------METADATA EXTRACTION--------------------------
Metadata is provided in a variety of ways depending on the
publisher.
For example, Atypon plugins usually provide metadata in <meta.../>
tags embedded in the html of
an abstract and/or full text html page.  This only concerns article
pages, not TOC pages.
See if this is the case. Go to an article abstract or html page and
do two things:

View the page info (firefox -> Page Info [General]).
You should see a listing of metadata,  with names  such as dc.Title,
dc. Creator, author, content_publisher, and then a value.

View the page source and search for the following "<meta"
there should be about as many of these as there were items listed on
the General Page Info page.

Other ways a publisher might provide metadata (if not as above) is
as a downloadable citation file
(ris, endnote, bibtex, etc). If so, please provide the format
options and some examples for download.

Some publishers don't provide explicit metadata and we need to parse
the source html for basic information. Is that the case?


    <meta name="description" content="A scholarly article by author Benedict Edward DeDominicis published in The International Journal of Community Diversity">
    <meta name="title" content="American Exceptionalism in the Time of COVID-19 : American National Identity-based Populism versus Cosmopolitan Global Integration Responses to Twenty-first-century Global Crises">
    <meta name="pdf_url" content="https://cgscholar.com//bookstore/works/public_print_source?v_id=231020">
    <meta name="abstract" content="Ineluctable global interdependency shapes trends in self-identity evolution. Constituencies within national publics benefit from the individual career and prosperity benefits of globalization. Conservative populist constituency ingroups react hostilely to the perceived threat to their traditional status as the core cultural community within nation states. This response produced the political victory of the 2106 Donald Trump presidential campaign. Reactionary populism emerges from perceived threat to core cultural group traditional supremacy within the national polity, heretofore setting the institutionalized, stereotyped norms of individual and constituency behavior and relations. In the US, their status grievances utilize the language of conservative evangelical Christian identity to mobilize their social movement political resources. They draw upon American foundational settler colonial ideologies with a basis in slavery and casteism. Postwar emerging transnational normative authority centers progressively challenge the utilitarian relevance of these parochial, ascriptive norms and ethics. Post-Cold-War reactionary trends displaying nationalist values have intensified globally, and the disruptions in individual and collective formal and informal institutionalized behaviors and role expectations due to the COVID-19 pandemic intensify them. These consequences foreshadow the knock-on effects of anthropogenic climate change. Liberal progressive political strategic responses can highlight transnational diaspora political activism as offering opportunities for pluralization of the American nation state. Communities marginalized as legacies of imperial expansion and settler colonialism display mobilizational capacities to promote government incentivization for corporate environmental, social and governance investment goals that support global sustainable development. This recommendation emphasizes the institutionalization of transnational supraordinate identities in alliance with global epistemic scientific communities. ">
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta name="Distribution" content="Global">
    <meta name="Author" content="Benedict Edward, DeDominicis">
    <meta name="publication_date" content="2021-05-17">
    <meta name="journal_title" content="The International Journal of Community Diversity">
    <meta name="volume" content="21">
    <meta name="issue" content="1">
    <meta name="firstpage" content="11">
    <meta name="lastpage" content="34">
    <meta name="type" content="Journal Article">
    <meta name="identifier" scheme="doi" content="10.18848/2327-0004/CGP/v21i01/11-34">
    <meta name="rights" content="Copyright © 2021,  Common Ground Research Networks, Some Rights Reserved, (CC BY-NC-ND 4.0)">
    <meta name="keywords" content="COVID-19, Nationalism, Neoliberalism, Racism, Stereotype">

